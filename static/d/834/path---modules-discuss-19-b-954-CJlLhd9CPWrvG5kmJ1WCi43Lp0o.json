{"data":{"site":{"siteMetadata":{"title":"HI,DY","author":"liudingyuan"}},"markdownRemark":{"id":"e1765c3d-0a5f-5e3c-af50-06bf47540dd8","excerpt":"å‰ç«¯å¼€å‘æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å¼•å…¥æ¨¡å—åŒ–ï¼Œæ¨¡å—æœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼š å¤ç”¨æ€§ ä¸€ä¸ªåº”ç”¨æ€»æœ‰ä¸€äº›ç›¸åŒå’Œç›¸ä¼¼çš„éƒ¨åˆ†ï¼Œå¯èƒ½æ˜¯æŸä¸ªåŠŸèƒ½ï¼Œå¯èƒ½æ˜¯æŸéƒ¨åˆ†UIâ€¦","html":"<p>å‰ç«¯å¼€å‘æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å¼•å…¥æ¨¡å—åŒ–ï¼Œæ¨¡å—æœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼š</p>\n<ul>\n<li>\n<p>å¤ç”¨æ€§</p>\n<p>ä¸€ä¸ªåº”ç”¨æ€»æœ‰ä¸€äº›ç›¸åŒå’Œç›¸ä¼¼çš„éƒ¨åˆ†ï¼Œå¯èƒ½æ˜¯æŸä¸ªåŠŸèƒ½ï¼Œå¯èƒ½æ˜¯æŸéƒ¨åˆ†UIã€‚æŠ½è±¡å‡ºä¸€ä¸ªæ¨¡å—ï¼Œé€šè¿‡å¤ç”¨å¯ä»¥å¤§å¤§æé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ã€‚</p>\n</li>\n<li>\n<p>ç»„åˆæ€§</p>\n<p>å°†æ¨¡å—è¿›è¡Œç»„åˆå¯ä»¥å¾—åˆ°æ–°çš„æ¨¡å—ï¼Œå°±åƒä¹é«˜ç§¯æœ¨ä¸€æ ·ã€‚ç°åœ¨è¯´çš„å¾ˆå¤šçš„ç»„ä»¶åŒ–å¼€å§‹å°±æ˜¯å¦‚æ­¤ï¼Œå°†å¤æ‚ã€å¤§å‹çš„åº”ç”¨æ‹†è§£ä¸ºä¸€ä¸ªä¸ªå°æ¨¡å—ï¼Œå¯ä»¥é™ä½å¼€å‘éš¾åº¦ã€‚</p>\n</li>\n<li>\n<p>éš”ç¦»æ€§</p>\n<p>æ¨¡å—ä¹‹é—´ä¸ä¼šç›¸äº’è€¦åˆï¼Œæˆ‘ä»¬å¯ä»¥å•ç‹¬æµ‹è¯•ã€æ›¿æ¢åº”ç”¨ä¸­çš„æŸä¸ªæ¨¡å—ï¼Œä¾¿äºç»´æŠ¤ã€‚</p>\n</li>\n</ul>\n<p>åœ¨ES6ä¹‹å‰ï¼ŒJavaScriptå¹¶æ²¡æœ‰åŸç”Ÿçš„æ¨¡å—è¯­æ³•ï¼ˆæˆ‘æƒ³jsçš„åˆ›é€ è€…ä¸€å®šæ²¡æƒ³åˆ°å¦‚ä»Šjsä¼šç”¨æ¥å¼€å‘è¶Šæ¥è¶Šå¤æ‚çš„åº”ç”¨ï¼‰ï¼Œç¤¾åŒºä¸­è¯ç”Ÿäº†è®¸å¤šè§£å†³æ–¹æ¡ˆã€‚æˆ‘ä»¬æœ‰å¿…è¦æ¥äº†è§£ä¸‹ç›®å‰ä¾ç„¶åœ¨å¹¿ä¸ºä½¿ç”¨çš„å‡ ç§æ–¹æ¡ˆã€‚</p>\n<h2>IIFE</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>win<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  win<span class=\"token punctuation\">.</span>utils <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> num <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n  <span class=\"token punctuation\">}</span>\n\n  utils<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">echo</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'echo: '</span><span class=\"token punctuation\">,</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">)</span></code></pre></div>\n<p>ä¸Šé¢çš„ä»£ç \b\bå°±æ˜¯ä¸€ä¸ªIIFEçš„ä¾‹å­ï¼ŒIIFEå°±æ˜¯ä¸€ä¸ªç«‹å³æ‰§è¡Œçš„\båŒ¿åå‡½æ•°è¡¨è¾¾å¼ã€‚ä¸Šè¿°ä»£ç çš„æ‰§è¡Œç»“æœä¸ºï¼šwindowå…¨å±€å¯¹è±¡ä¸Šæ–°å¢äº†ä¸€ä¸ªutilså¯¹è±¡ï¼Œå¯ä»¥è°ƒç”¨utilså¯¹è±¡\bé‡Œçš„å·¥å…·\bæ–¹æ³•ã€‚é€šè¿‡è¿™ä¸ªæ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥æš´éœ²å‡ºæŒ‡å®šçš„\b\bå±æ€§å’Œæ–¹æ³•ï¼Œå¯ä»¥\b\bç§æœ‰åŒ–å†…éƒ¨çš„\b\bå±æ€§å’Œå¸®åŠ©å‡½æ•°ï¼Œå¤–éƒ¨æ— æ³•è®¿é—®ã€‚</p>\n<p>ä½¿ç”¨è¯¥æ–¹æ¡ˆè¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬\bå§‹ç»ˆæ±¡æŸ“äº†å…¨å±€å¯¹è±¡ï¼ˆå‰é¢ä¾‹å­ä¸­çš„\butilsï¼‰ï¼Œ\bå­˜åœ¨è¢«é‡å†™çš„é£é™©ã€‚å¦‚æœæˆ‘ä»¬å¼•å…¥çš„å…¶ä»–åº“æˆ–è€…å…¶ä»–ä»£ç ä¸­ä½¿ç”¨äº†åŒåçš„å˜é‡ï¼Œé‚£å°±å‡ºäº‹äº†ã€‚</p>\n<h2>CommonJS</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// utils.js</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> num <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">}</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  add\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// index.js</span>\n<span class=\"token keyword\">const</span> utils <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./utils.js'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> utils<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>è¿™å°±æ˜¯CommonJSï¼Œä½¿ç”¨<code class=\"language-text\">module.exports</code>æš´éœ²æ¨¡å—æ¥å£ï¼Œ<code class=\"language-text\">require</code>å¯¼å…¥æ¨¡å—ã€‚\bå®ƒè§£å†³äº†IIFEé—ç•™çš„é—®é¢˜ï¼Œä¸ä¼šæ±¡æŸ“åˆ°å…¨å±€å¯¹è±¡ã€‚</p>\n<p>Nodeæ”¯æŒè¿™ä¸ª\b\bæ–¹æ¡ˆï¼Œä½†æ— æ³•åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ã€‚å®é™…ä¸Šå®ƒä¹Ÿä¸é€‚åˆæµè§ˆå™¨ä½¿ç”¨ï¼Œå› ä¸ºå®ƒæ˜¯åŒæ­¥å¯¼å…¥æ¨¡å—çš„ï¼Œè¿™ä¼šä½¿å¾—æµè§ˆå™¨ç­‰å¾…\bæ¨¡å—ä¸‹è½½é€ æˆé¡µé¢ç©ºç™½ï¼Œ\bå½±å“ç”¨æˆ·ä½“éªŒã€‚</p>\n<h2>\bğŸ“¦æ¨¡å—æ‰“åŒ…å·¥å…·çš„åšæ³•</h2>\n<p>ä½¿ç”¨webpackæ‰“åŒ…\bä¸Šé¢CommonJSä¾‹å­ä¸­çš„\bä»£ç ï¼Œå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š</p>\n<details>\n<summary>æ‰“åŒ…ç»“æœ</summary>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/******/</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>modules<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// webpackBootstrap</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token comment\">// The module cache</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token keyword\">var</span> installedModules <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token comment\">// The require function</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token keyword\">function</span> <span class=\"token function\">__webpack_require__</span><span class=\"token punctuation\">(</span>moduleId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">/******/</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token comment\">// Check if module is in cache</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>installedModules<span class=\"token punctuation\">[</span>moduleId<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">/******/</span> \t\t\t<span class=\"token keyword\">return</span> installedModules<span class=\"token punctuation\">[</span>moduleId<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>exports<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token comment\">// Create a new module (and put it into the cache)</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token keyword\">var</span> module <span class=\"token operator\">=</span> installedModules<span class=\"token punctuation\">[</span>moduleId<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">/******/</span> \t\t\ti<span class=\"token punctuation\">:</span> moduleId<span class=\"token punctuation\">,</span>\n<span class=\"token comment\">/******/</span> \t\t\tl<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n<span class=\"token comment\">/******/</span> \t\t\texports<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token comment\">// Execute the module function</span>\n<span class=\"token comment\">/******/</span> \t\tmodules<span class=\"token punctuation\">[</span>moduleId<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>module<span class=\"token punctuation\">.</span>exports<span class=\"token punctuation\">,</span> module<span class=\"token punctuation\">,</span> module<span class=\"token punctuation\">.</span>exports<span class=\"token punctuation\">,</span> __webpack_require__<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token comment\">// Flag the module as loaded</span>\n<span class=\"token comment\">/******/</span> \t\tmodule<span class=\"token punctuation\">.</span>l <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token comment\">// Return the exports of the module</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token keyword\">return</span> module<span class=\"token punctuation\">.</span>exports<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">/******/</span>\n<span class=\"token comment\">/******/</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token comment\">// expose the modules object (__webpack_modules__)</span>\n<span class=\"token comment\">/******/</span> \t__webpack_require__<span class=\"token punctuation\">.</span>m <span class=\"token operator\">=</span> modules<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token comment\">// expose the module cache</span>\n<span class=\"token comment\">/******/</span> \t__webpack_require__<span class=\"token punctuation\">.</span>c <span class=\"token operator\">=</span> installedModules<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token comment\">// define getter function for harmony exports</span>\n<span class=\"token comment\">/******/</span> \t__webpack_require__<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">d</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>exports<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> getter<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>__webpack_require__<span class=\"token punctuation\">.</span><span class=\"token function\">o</span><span class=\"token punctuation\">(</span>exports<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">/******/</span> \t\t\tObject<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>exports<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> enumerable<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">:</span> getter <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token comment\">// define __esModule on exports</span>\n<span class=\"token comment\">/******/</span> \t__webpack_require__<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">r</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>exports<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> Symbol <span class=\"token operator\">!==</span> <span class=\"token string\">'undefined'</span> <span class=\"token operator\">&amp;&amp;</span> Symbol<span class=\"token punctuation\">.</span>toStringTag<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">/******/</span> \t\t\tObject<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>exports<span class=\"token punctuation\">,</span> Symbol<span class=\"token punctuation\">.</span>toStringTag<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> value<span class=\"token punctuation\">:</span> <span class=\"token string\">'Module'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">/******/</span> \t\tObject<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>exports<span class=\"token punctuation\">,</span> <span class=\"token string\">'__esModule'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> value<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token comment\">// create a fake namespace object</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token comment\">// mode &amp; 1: value is a module id, require it</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token comment\">// mode &amp; 2: merge all properties of value into the ns</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token comment\">// mode &amp; 4: return value when already ns object</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token comment\">// mode &amp; 8|1: behave like require</span>\n<span class=\"token comment\">/******/</span> \t__webpack_require__<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">t</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">,</span> mode<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>mode <span class=\"token operator\">&amp;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> value <span class=\"token operator\">=</span> <span class=\"token function\">__webpack_require__</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>mode <span class=\"token operator\">&amp;</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> value<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>mode <span class=\"token operator\">&amp;</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">typeof</span> value <span class=\"token operator\">===</span> <span class=\"token string\">'object'</span> <span class=\"token operator\">&amp;&amp;</span> value <span class=\"token operator\">&amp;&amp;</span> value<span class=\"token punctuation\">.</span>__esModule<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> value<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token keyword\">var</span> ns <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> \t\t__webpack_require__<span class=\"token punctuation\">.</span><span class=\"token function\">r</span><span class=\"token punctuation\">(</span>ns<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> \t\tObject<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>ns<span class=\"token punctuation\">,</span> <span class=\"token string\">'default'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> enumerable<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">:</span> value <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>mode <span class=\"token operator\">&amp;</span> <span class=\"token number\">2</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">typeof</span> value <span class=\"token operator\">!=</span> <span class=\"token string\">'string'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> key <span class=\"token keyword\">in</span> value<span class=\"token punctuation\">)</span> __webpack_require__<span class=\"token punctuation\">.</span><span class=\"token function\">d</span><span class=\"token punctuation\">(</span>ns<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> value<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token keyword\">return</span> ns<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token comment\">// getDefaultExport function for compatibility with non-harmony modules</span>\n<span class=\"token comment\">/******/</span> \t__webpack_require__<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">n</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>module<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token keyword\">var</span> getter <span class=\"token operator\">=</span> module <span class=\"token operator\">&amp;&amp;</span> module<span class=\"token punctuation\">.</span>__esModule <span class=\"token operator\">?</span>\n<span class=\"token comment\">/******/</span> \t\t\t<span class=\"token keyword\">function</span> <span class=\"token function\">getDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> module<span class=\"token punctuation\">[</span><span class=\"token string\">'default'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">:</span>\n<span class=\"token comment\">/******/</span> \t\t\t<span class=\"token keyword\">function</span> <span class=\"token function\">getModuleExports</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> module<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> \t\t__webpack_require__<span class=\"token punctuation\">.</span><span class=\"token function\">d</span><span class=\"token punctuation\">(</span>getter<span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> getter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> \t\t<span class=\"token keyword\">return</span> getter<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token comment\">// Object.prototype.hasOwnProperty.call</span>\n<span class=\"token comment\">/******/</span> \t__webpack_require__<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">o</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">,</span> property<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> Object<span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>hasOwnProperty<span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">,</span> property<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token comment\">// __webpack_public_path__</span>\n<span class=\"token comment\">/******/</span> \t__webpack_require__<span class=\"token punctuation\">.</span>p <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span>\n<span class=\"token comment\">/******/</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token comment\">// Load entry module and return exports</span>\n<span class=\"token comment\">/******/</span> \t<span class=\"token keyword\">return</span> <span class=\"token function\">__webpack_require__</span><span class=\"token punctuation\">(</span>__webpack_require__<span class=\"token punctuation\">.</span>s <span class=\"token operator\">=</span> <span class=\"token string\">\"./index.js\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/******/</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">/************************************************************************/</span>\n<span class=\"token comment\">/******/</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n<span class=\"token comment\">/***/</span> <span class=\"token string\">\"./index.js\"</span><span class=\"token punctuation\">:</span>\n<span class=\"token comment\">/*!******************!*\\\n  !*** ./index.js ***!\n  \\******************/</span>\n<span class=\"token comment\">/*! no static exports found */</span>\n<span class=\"token comment\">/***/</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>module<span class=\"token punctuation\">,</span> exports<span class=\"token punctuation\">,</span> __webpack_require__<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n<span class=\"token function\">eval</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"const utils = __webpack_require__(/*! ./utils */ \\\"./utils.js\\\")\\n\\nconst result = utils.add(2)\\n\\n\\n//# sourceURL=webpack:///./index.js?\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/***/</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n<span class=\"token comment\">/***/</span> <span class=\"token string\">\"./utils.js\"</span><span class=\"token punctuation\">:</span>\n<span class=\"token comment\">/*!******************!*\\\n  !*** ./utils.js ***!\n  \\******************/</span>\n<span class=\"token comment\">/*! no static exports found */</span>\n<span class=\"token comment\">/***/</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>module<span class=\"token punctuation\">,</span> exports<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n<span class=\"token function\">eval</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"function add(num) {\\n  return num + 1\\n}\\n\\nmodule.exports = {\\n  add\\n}\\n\\n\\n//# sourceURL=webpack:///./utils.js?\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/***/</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">/******/</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</details>\n<p>å¯ä»¥çœ‹åˆ°ï¼Œwebpackä½¿ç”¨IIFEçš„æ¨¡å¼è‡ªå·±å®ç°äº†ä¸€ä¸ª\bæ¨¡å—åŒ–æ–¹æ¡ˆï¼Œå®ƒå°†\bæ‰€æœ‰æ¨¡å—çš„ä»£ç éƒ½å¡åˆ°äº†ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚åŒæ—¶æ”¯æŒäº†CommonJSçš„è¯­æ³•ï¼Œä¹Ÿæ²¡æœ‰æ±¡æŸ“å…¨å±€å¯¹è±¡ã€‚</p>\n<p>æµè§ˆå™¨ç†è§£è¿™äº›ä»£ç ï¼Œ\bå¹¶ä¸”æ‰“åŒ…åçš„æ–‡ä»¶åŒ…å«äº†æ‰€æœ‰æ¨¡å—çš„ä»£ç ï¼Œä¹Ÿå°±ä¸å­˜åœ¨æµè§ˆå™¨æŒ‚èµ·ç­‰å¾…æ¨¡å—ä¸‹è½½çš„æƒ…å†µã€‚</p>\n<h2>ES Modules</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// utils.js</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> num <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span>\n  add\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// index.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>add<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./utils.js'</span>\n\n<span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ES6åŸç”Ÿ\bæ”¯æŒçš„æ¨¡å—è¯­æ³•ï¼Œ\bnodejsã€webpackå’Œæµè§ˆå™¨éƒ½æ”¯æŒã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">// åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>module.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>module<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>æµè§ˆå™¨ä¸­module scriptçš„åŠ è½½æ˜¯å¼‚æ­¥çš„ï¼Œ\bæ•ˆæœç­‰åŒäºè®¾ç½®<code class=\"language-text\">defer</code>å±æ€§ã€‚</p>\n<p>es modulesè®¾è®¡æ¨¡å—æ˜¯é™æ€çš„ï¼Œå½“å‰æ¨¡å—ä¾èµ–å“ªäº›æ¨¡å—éœ€è¦åœ¨æ–‡ä»¶é¡¶éƒ¨å£°æ˜ï¼Œä¸èƒ½ä½¿ç”¨åœ¨æ¡ä»¶åˆ¤æ–­è¯­å¥ä¸­ã€‚è¿™æ ·çš„è®¾è®¡\bç»™æˆ‘ä»¬å¸¦æ¥äº†ä¸€äº›å¥½å¤„ï¼Œæ–¹ä¾¿æˆ‘ä»¬çœ‹å‡ºå½“å‰æ¨¡å—çš„\bå¤–éƒ¨ä¾èµ–æƒ…å†µï¼›åˆ©ç”¨é™æ€\bä»£ç åˆ†æï¼Œ\bå»æ‰æ²¡æœ‰ä½¿ç”¨åˆ°çš„ä»£ç ï¼Œä¹Ÿå°±æ˜¯<strong>tree \bshaking</strong>æŠ€æœ¯ã€‚</p>\n<p>æ–°çš„è¯­æ³•\bææ¡ˆï¼ŒåŠ¨æ€å¯¼å…¥<code class=\"language-text\">import()</code>ï¼Œå¯ä»¥ç”¨æ¥åš\b<strong>code split</strong>ã€‚</p>\n<h2>æ€»ç»“</h2>\n<p>å¾ˆé«˜å…´jsæœ‰äº†åŸç”Ÿçš„æ¨¡å—åŒ–è¯­æ³•æ”¯æŒğŸ˜Šã€‚</p>\n<hr>\n<p>å‚è€ƒï¼š</p>\n<ul>\n<li><a href=\"https://tylermcginnis.com/javascript-modules-iifes-commonjs-esmodules/\">JavaScript Modules: From IIFEs to CommonJS to ES6 Modules</a></li>\n<li><a href=\"https://github.com/nzakas/understandinges6/blob/master/manuscript/13-Modules.md\">understandinges6: Modules</a></li>\n</ul>","frontmatter":{"title":"IIFE -> CommonJS -> ES modules","date":"01-29-2019"}}},"pageContext":{"slug":"/modules-discuss/","previous":null,"next":null}}